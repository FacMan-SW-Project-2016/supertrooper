
<link rel="stylesheet" type="text/css"
	href="../semantic_ui/semantic.min.css">
<link rel="stylesheet" type="text/css" href="../css/style.css">

<table class="ui definition table">
  <tbody>
      <tr>
          <td>Name</td>
          <td>
            <div class="required field">
              <input name="name">
            </div>
          </td>
      </tr>
      <tr>
          <td>Passwort</td>
          <td>
            <div class="required field">
            <input id="pwd_initial" type="password">
          </div>
          </td>
      </tr>

			<tr>
          <td>Passwort bestätigen</td>
          <td>
            <div class="required field">
            <input id="pwd_best" type="password" >
          </div>
          </td>
						<div class="ui error message hidden" id="message_container"></div>
      </tr>
			<tr>
				<td>Rolle</td>
			<td>
				<div class"required field">

					<div class="ui selection dropdown">
					  <input type="hidden" name="role">
					  <i class="dropdown icon"></i>
					  <div class="default text"></div>
					  <div class="menu">
					    <div class="item" data-value="admin">Admin</div>
					    <div class="item" data-value="advisor">Sachbearbeiter</div>
							<div class="item" data-value="student">Student</div>
					  </div>
					</div>

          </div>
				</td>
			</tr>
  </tbody>
  <!--                <p>ID = </p><p id="popupID"></p>-->
</table>
	<script src="../js/md5.js"></script>
<script>
$('.ui.dropdown')
  .dropdown()
;


function insertData()
{

	var password = document.getElementById("pwd_initial"),
	 confirm_password = document.getElementById("pwd_best");

if(password.value != confirm_password.value) {
alert("passwords don't match");


var html = '<div class="header">Passwörter stimmen nicht überein!';

$('#message_container').html(html);
$('#message_container').show();

return false;
}else {

	var passhash = hex_md5(password);

				var values = $("#popupForm").serialize();
				values += "&password=" + passhash;


				//	We use jQuery.ajax to post our data to the webservice via http
				$.ajax({
					url : 'http://localhost:8000/user/',
					data : values,
					cache : false,
					contentType : 'application/x-www-form-urlencoded',
					processData : false,
					type : 'POST',
					success : function (data) {
							alert("successful created user");
  						$('.ui.modal').modal('hide');

							$('#table_user').bootstrapTable('refresh');
					 },
					async : false
				});

				return true;

			}
}



</script>
